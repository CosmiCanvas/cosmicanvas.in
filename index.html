<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Cosmic Canvas Animation Test</title>
<style>
  body {
    background: #0a0a23;
    color: #eee;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0;
    padding: 0;
  }
  header {
    position: fixed;
    width: 100%;
    background: #1b1464;
    padding: 1rem;
    box-shadow: 0 2px 8px rgba(0,0,0,0.5);
    z-index: 1000;
    color: #f9f871;
    text-align: center;
  }
  main {
    padding: 6rem 2rem 2rem;
    max-width: 1200px;
    margin: auto;
  }
  section {
    margin-bottom: 4rem;
    border-radius: 10px;
    padding: 1.5rem;
    background: #121136;
    box-shadow: 0 0 10px #6200ee44 inset;
  }
  h2 {
    color: #f06292;
    border-bottom: 2px solid #f06292;
    padding-bottom: 0.5rem;
    margin-bottom: 1rem;
  }
  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fill,minmax(280px,1fr));
    grid-gap: 2rem;
  }
  .card {
    background: #201f42;
    padding: 1rem;
    border-radius: 8px;
    box-shadow: 0 0 6px #bb86fcaa;
  }
  .card:hover {
    box-shadow: 0 0 15px #bb86fcff;
    transform: scale(1.05);
    transition: all 0.3s ease-in-out;
  }
  .card h3 {
    color: #bb86fc;
    margin-top: 0;
  }
  .btn {
    background: #bb86fc;
    border: none;
    padding: 0.6rem 1.2rem;
    cursor: pointer;
    border-radius: 5px;
    color: #121212;
    font-weight: bold;
    margin-top: 1rem;
  }
  .btn:hover {
    background: #9f6ce1;
  }
  .scroll-box {
    height: 200px;
    overflow-y: scroll;
    border: 2px solid #bb86fc;
    padding: 1rem;
    border-radius: 8px;
  }
  /* Animation keyframes */
  @keyframes glow {
    0%, 100% { box-shadow: 0 0 5px #bb86fc; }
    50% { box-shadow: 0 0 20px #bb86fc; }
  }
</style>
</head>
<body>
<header>
  <h1>Cosmic Canvas Animation Test</h1>
</header>
<main>
  <section id="intro">
    <h2>Introduction</h2>
    <p>Testing a large static site with animations using Anime.js and CSS. Scroll down to see various animated cards, text, and hover effects.</p>
  </section>

  <section id="animated-cards">
    <h2>Animated Cards</h2>
    <div class="grid" id="cards-container">
      <!-- Cards will be generated by JS -->
    </div>
  </section>

  <section id="scrollable-section">
    <h2>Scrollable Box with Animation</h2>
    <div class="scroll-box" id="scroll-box">
      <p>Scroll down to see text fade in.</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis nec consectetur libero, eu suscipit arcu. Aenean congue massa lectus, nec faucibus arcu lacinia ut. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas.</p>
      <p>Phasellus suscipit lorem sed magna dapibus, nec dapibus dolor dapibus. Maecenas efficitur sapien sit amet odio viverra, at varius leo dictum.</p>
      <p>Sed quis ex ultrices, pulvinar metus in, bibendum magna. Proin nec luctus nulla, non accumsan odio.</p>
      <p>Scroll animation triggered by Anime.js on scroll event.</p>
    </div>
  </section>
  <section id="buttons">
    <h2>Interactive Buttons</h2>
    <button class="btn" id="btn-animate">Animate Me!</button>
  </section>
</main>

<script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script>
  // Generate 20 animated cards with scale loop
  const container = document.getElementById('cards-container');
  for (let i=1; i<=20; i++) {
    const card = document.createElement('div');
    card.classList.add('card');
    card.innerHTML = `<h3>Card #${i}</h3><p>This is an animated card with subtle scaling and shadow glow.</p>`;
    container.appendChild(card);
  }

  anime({
    targets: '.card',
    scale: [1, 1.05],
    duration: 2000,
    direction: 'alternate',
    easing: 'easeInOutSine',
    loop: true,
    delay: anime.stagger(100),
  });

  // Scroll fade in for scroll-box paragraphs
  const scrollBox = document.getElementById('scroll-box');
  const paragraphs = scrollBox.querySelectorAll('p');
  scrollBox.addEventListener('scroll', () => {
    paragraphs.forEach(p => {
      const rect = p.getBoundingClientRect();
      if(rect.top < window.innerHeight && rect.bottom > 0) {
        anime({
          targets: p,
          opacity: 1,
          duration: 900,
          easing: 'easeInOutQuad',
          delay: 100
        });
      } else {
        anime({
          targets: p,
          opacity: 0.2,
          duration: 900,
          easing: 'easeInOutQuad',
          delay: 100
        });
      }
    });
  });

  // Button animation
  const btn = document.getElementById('btn-animate');
  btn.addEventListener('click', () => {
    anime({
      targets: btn,
      scale: [
        {value: 1.5, duration: 300, easing: 'easeOutExpo'},
        {value: 1, duration: 600, easing: 'easeOutElastic(1, .8)'}
      ],
      rotate: '1turn'
    });
  });
</script>
</body>
</html>
